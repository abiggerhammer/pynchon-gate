
all: inverarity

PACKAGES = libevent libevent_pthreads libevent_openssl openssl
LDFLAGS = `pkg-config --libs-only-L --libs-only-other $(PACKAGES)`
LIBS = `pkg-config --libs-only-l $(PACKAGES)`
CFLAGS = -Wall -g -O2 `pkg-config --cflags-only-other $(PACKAGES)`
CPPFLAGS = `pkg-config --cflags-only-I $(PACKAGES)`

.c.o:
	$(CC) -c $(CFLAGS) $(CPPFLAGS)  -o $@ $<

OBJS = \
	dist.o \
	hash.o \
	logging.o \
	main.o \
	net.o \
	request.o \
	util.o \
	worker.o

inverarity: $(OBJS)
	$(CC) $(CFLAGS) $(CPPFLAGS) $(LDFLAGS) -o $@ $(OBJS) $(LIBS)

clean:
	rm -f inverarity *~ *.o


#### DEPENDENCIES: autogenerated.

dist.c: consts.h
dist.c: dist.h
dist.c: request.h
dist.c: hash.h
dist.c: logging.h
hash.c: consts.h
hash.c: hash.h
logging.c: logging.h
main.c: main.h
main.c: net.h
main.c: logging.h
main.c: util.h
main.c: worker.h
main.c: dist.h
main.c: hash.h
net.c: consts.h
net.c: request.h
net.c: worker.h
net.c: net.h
net.c: logging.h
net.c: util.h
net.c: dist.h
request.c: consts.h
request.c: request.h
util.c: util.h
util.c: logging.h
worker.c: consts.h
worker.c: worker.h
worker.c: request.h
worker.c: net.h
worker.c: logging.h
worker.c: dist.h
worker.c: hash.h
